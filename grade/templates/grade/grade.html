{% load my_tags %}
{% load static %}
<title>ประกาศคะแนนสอบ</title>
<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="{% static 'home/css/home.css' %}">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link rel=”stylesheet” href=”https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css” />
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-blue-grey.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,1,-25" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />


</head>
<style>
  .logo-color {
    background-color: #2a4655;
    color: white;
  }
</style>

<body class="w3-theme-l5">
  <!-- Navbar -->
  <div class="w3-top">
    <div class="w3-bar baby-blue w3-left-align w3-large ">
      <div style="margin-right: 1em;">
        <a href="#"
          class="w3-bar-item w3-hide-small w3-right w3-padding-large thai-font ul-rm size-18 blue-grotto-h">
          <i class="fa fa-sign-out" style="font-size: 18px; margin-right: 0.5em;"></i> ออกจากระบบ
        </a>
      </div>
    </div>
  </div>

  <!-- Page Container -->
  <div class="w3-container w3-content" style="max-width:1400px;margin-top:80px">
    <!-- The Grid -->
    <div class="w3-row">
      <!-- Left Column -->
      <div class="w3-col m3">
        <!-- Profile -->
        <div class="w3-card w3-round w3-white">
          <div class="w3-container blue-grotto font-white">
            <!-- <h4 class="w3-center">My Profile</h4> -->
            <p class="w3-center" style="margin-top: 1em;"><img src="/static/images/profile.png" class="w3-circle"
                style="width: 100%; max-width: 200px; height: auto;"></p>
            <hr>
            <div style="margin-left: 1em;" class="size-14">
              <p class="font-misty-blue thai-font">ประกาศคะแนนสอบ</p>
              <p class="thai-font">
                <span id="title"></span>
                <span id="firstname"></span>
                <span id="lastname"></span>
                <span id="user_id" style="margin-left: 0.5em;">{{request.session.user_id}}</span>
              </p>
            </div>
          </div>
        </div>
        <br>
      </div>

      {% block body %} 
        <div class="w3-col m9">
          <div class="w3-margin w3-container w3-card w3-white w3-round w3-margin" style="height: 50px;"><br>
            <h4 class="thai-font font-black" style="margin-top: -0.4em;margin-left: 0.5em;">
              ประกาศคะแนนสอบ
            </h4>
          </div>
        
          <a href="#" class="font-midnight-blue-h ">
            <div class="w3-card w3-round w3-margin tiffany-green box-shadow-h" style="height: 80px;"><br>
              <div class="w3-container light-green" style="margin-left: 0.5em; margin-top: -1.5em; height: 80px;">
                <p style="margin-top: 2em; margin-left: 1em;" class="thai-font size-15">
                    วิชาที่ลงทะเบียน
                </p>
              </div>
            </div>
          </a>
          
          {% for table in output%}
          <table>
            <tr>
              {% for header in table.header_list %}
              <th>{{ header }}</th>
              {% endfor %}
            </tr>
            {% for grade in table.grade_list %}
            <tr>
              {% for header in table.header_list %}
              <td>{{ grade|load_grade:header }}</td>
              {% endfor %}
          
            </tr>
            {% endfor %}
          </table>
          <hr>
          {% endfor %}
        </div>
      {% endblock %}

      <!-- End Grid -->
    </div>

    <!-- End Page Container -->
  </div>
  <br>
  <!-- <script>
    var value = document.getElementById("user_id").innerHTML
    console.log(value);
  
    fetch('http://127.0.0.1:8000/api/v1/student?std_code=' + value, {
      headers: {
        'Application-Key': 'rootroot'
      }
    })
      .then(res => {
        return res.json();
      })
      .then(data => {
        console.log(data)
        const title_th = data['output'][0]['tittle_name_lth']
        const fname_th = data['output'][0]['fname_th'];
        const lname_th = data['output'][0]['lname_th'];
        const major_th = data['output'][0]['major_th'];
        const department_th = data['output'][0]['department_th'];
        const email = data['output'][0]['email'];
        document.querySelector('#title').insertAdjacentHTML('beforeend', title_th);
        document.querySelector('#firstname').insertAdjacentHTML('beforeend', fname_th);
        document.querySelector('#lastname').insertAdjacentHTML('beforeend', lname_th);
        document.querySelector('#major').insertAdjacentHTML('beforeend', major_th);
        document.querySelector('#email').insertAdjacentHTML('beforeend', email);
        document.querySelector('#depart').insertAdjacentHTML('beforeend', department_th);
      })
      .catch(error => console.log(error));
  </script> -->
</body>
</html>