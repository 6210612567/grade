{% load my_tags %}
{% load static%}
<style>
  table {
    font-family: arial, sans-serif;
    border-collapse: collapse;
    width: 95.5%;
    margin-top: 0.5em;
    margin-left: 1.25em;
  }

  td,
  th {
    border: 1px solid #dddddd;
    text-align: left;
    padding-left: 1em;
    padding-top: 8px;
    padding-bottom: 8px;
  }

  tr:nth-child(even) {
    background-color: #f0f0f0;
  }
</style>
<script language="javascript">
function confirm_delete()
    {
        var answer = window.confirm("ยืนยันการลบ");
        return answer;
    }
alert('{{message}}');
</script>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="{% static 'home/css/home.css' %}">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link rel=”stylesheet” href=”https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css” />
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-blue-grey.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,1,-25" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
</head>

<form method="post" action="{% url 'grade:manage_grade' %}" enctype="multipart/form-data">
  {% csrf_token %}
  <a href="#" class="font-midnight-blue-h ">
    <div class="w3-card w3-round w3-margin tiffany-green box-shadow-h" style="height: 80px;"><br>
      <div class="w3-container light-green" style="margin-left: 0.5em; margin-top: -1.5em; height: 80px;">
        <br>
        <input type="file" id="file" name="file" />
        <input type="submit" value="Upload" />
      </div>
    </div>
  </a>
</form>
<hr>
{% for table in output%}
  <table>
    <tr>
      {% for header in table.header_list %}
      <th>{{ header }}</th>
      {% endfor %}
      <th>ลบ</th>
    </tr>
    {% for grade in table.grade_list %}
    <tr>
      {% for header in table.header_list %}
      <td>{{ grade|load_grade:header }}</td>
      {% endfor %}
      <td><a href="{% url 'grade:delete_table' table.grade_list.0|load_grade:'subject' %}"
          onclick="return confirm_delete()">Delete</a></td>
    </tr>
    {% endfor %}
    <br>
{% endfor %}
<hr>
